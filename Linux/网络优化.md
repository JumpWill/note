
## HTTP过程

1. DNS 域名解析
2. TCP 握手
3. SSL 握手
4. 服务器处理
5. 内容传输

## 优化

### 域名解析优化

* 减少域名解析产生的延迟。例如，提前获取域名解析结果备用，那么后续的 HTTPS 连接就能减少一个 RTT。
例如直接配置本地DNS.

### 对传输内容进行压缩

传输数据的大小与耗时成正比，压缩传输内容是降低请求耗时最有效的手段之一。
使用更好的加密算法, 更好的加密算法意味着更长的加密时间和更高的压缩效率，平衡好加密时间和传输时间选择合适的加密算法。
例如gzip,Brotli等加密算法(可以设置不同的压缩等级)。

### SSL 层优化

1. 协议优化
    升级 TLS 算法和 HTTPS 证书。例如，升级 TLS 1.3 协议，可将 SSL 握手的 RTT 从 2 个减少到 1 个。
    2018 年发布的 TLS 1.3 协议通过优化 SSL 握手过程，将握手时延缩短至 1 RTT；在复用连接的情况下，还可利用 early_data 机制实现 0 RTT。
2. 证书优化
    HTTPS 数字证书分为 RSA 证书和 ECC 证书，二者的区别如下：
        RSA 证书：在传统安全通信和数字签名应用中占主导地位，适用于对兼容性要求高，对性能要求不苛刻的场景。
        ECC 证书：是新一代加密算法趋势，适合移动互联网、物联网等对资源敏感的场景，以及对安全性和性能要求高的新应用。
3. 调整 https 会话缓存
   复用连接

### 传输层优化

升级拥塞控制算法以提高网络吞吐量。例如，将默认的 Cubic 升级为 BBR，对于大带宽、长链路的弱网环境尤其有效。

### 网络层优化

使用商业化的网络加速服务，通过路由优化数据包，实现动态服务加速。CDN

### 使用更现代的 HTTP 协议

升级至 HTTP/2，进一步升级到基于 QUIC 协议的 HTTP/3。

<https://www.thebyte.com.cn/http/summary.html>
