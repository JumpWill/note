DNS是个啥？有一次面试被问到DNS域名解析流程，

我摸摸头发茂密(学了就忘)的脑袋，我说DNS是通过URL找到IP，面试官愁眉不展。

后来我看了一下计网，终于梳理好了DNS的东西。

只需要三分钟，带你认识DNS。

#### 基础认识

 是啥？   Domain Name System 域名系统，可以理解为分布式的数据库，存储的数据就是URL和IP的键值对。

在哪儿工作？工作在应用层，使用UDP协议。

有啥作用？让你能通过网址访问到小电影的真正的IP，且有负载均衡，使得一个网址对应多个IP。

你可以在windows系统下cmd中输入以下命令查看163的所有IP信息以及查看自己的DNS缓存(会过期)。

```
#查看163 ip
nslookup www.163.com
# 查看本机的dns缓存
ipconfig /displaydns
```

#### 前置知识

ISP: 网络运营商。

DNS服务器：根服务器，权威服务器，具体某一个网站的DNS服务器。

 ![img](https://pic2.zhimg.com/80/607e9d15fd6d5f9d02f6f4b0adb261b9_hd.jpg)

#### 张三的爱情故事(DNS解析流程)

咱用一个故事来认识DNS的流程。

某一天，法外狂徒张三在(同性)交友群里认识了一个妹子，

张三对妹子心生情愫，但是张三只知道妹子的名字(域名)叫小娜，

张三想约妹子出来玩(访问网页)，但是张三不知道妹子的联系方式(IP地址)。

所以张三首先在自己的通讯录(本地DNS缓存)中寻找妹子的联系方式，

可惜呢，张三没找到，于是张三便群主(ISP本地DNS服务器)有没有小娜的信息，

群主无奈自己也没有小娜的信息，群主说你去找麻花藤(根DNS服务器)吧。

麻花藤说我也不知道，但是我知道我手下A(权威DNS服务器)知道，于是将这件事交给手下B,

手下B说我也不知道，但是我可以给手下C知道，于是将这件事交给手下C，

终于手下C知道小娜的信息，并将小娜的信息告知了群主，群主再将信息告知你。

张三呢，想着要下一次也要约小娜，不能老是这样找小娜信息吧，

于是张三将小娜的联系方式(IP)，记录在了自己的通讯录中(DNS缓存中)，方便下次再约。

张三跟小娜深入接触，发现小娜是个卖茶女，张三爱情故事完结。

恭喜你看完了张三的爱情故事，也知道了DNS解析的流程。
