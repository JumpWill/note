#

## 简介

### 组合模式中的角色和职责

#### subject（抽象主题角色）

真实主题与代理主题的共同接口。

#### ealSubject（真实主题角色）

定义了代理角色所代表的真实对象。

#### Proxy（代理主题角色）

含有对真实主题角色的引用，代理角色通常在将客户端调用传递给真是主题对象之前或者之后执行某些操作，而不是单纯返回真实的对象

## 代码

这里以一个购物作为一个主题任务，这是一个抽象的任务。具体的购物主题分别包括“韩国购物”、“美国购物”、“非洲购物”等。可以这些都是“自己”去完成主题，那么如果希望不仅完成购物，还要做真假辨别、海关安检等，同样依然能够完成自己本身的具体购物主题，那么则可以创建一个新的代理来完成这件事。代理需要将被代理的主题关联到本类中，去重新实现Buy()方法，在Buy()方法中，调用被调用的Buy()，在额外完成辨别真伪和海关安检两个任务动作，具体的代码实现如下

```golang

```

## 总结

### 优点

1. 能够协调调用者和被调用者，在一定程度上降低了系统的耦合度。
2. 客户端可以针对抽象主题角色进行编程，增加和更换代理类无须修改源代码，符合开闭原则，系统具有较好的灵活性和可扩展性。

### 缺点

1. 代理实现较为复杂

### 适用场景

其他对象提供一种代理以控制对这个对象的访问。
